(()=>{"use strict";(()=>{var t=function(){function t(){this.host=window.origin.includes("localhost")?"http://localhost:4200/secure":"",this.urlBase="".concat(this.host,"/edbic/")}return t.prototype.get=function(t){return e=this,n=void 0,l=function(){var e=this;return function(t,e){var n,i,l,s,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(l=2&a[0]?i.return:a[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,a[1])).done)return l;switch(i=0,l&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((l=(l=o.trys).length>0&&l[l.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){o.label=a[1];break}if(6===a[0]&&o.label<l[1]){o.label=l[1],l=a;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(a);break}l[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}(this,(function(n){return[2,new Promise((function(n,i){$.ajax({url:"".concat(e.urlBase).concat(t,"?agency_hash=").concat(e.getAgencyHash()),headers:{"Content-Type":"application/json"},success:function(t){n(t)},error:function(t){i(t)}})}))]}))},new((i=void 0)||(i=Promise))((function(t,s){function o(t){try{r(l.next(t))}catch(t){s(t)}}function a(t){try{r(l.throw(t))}catch(t){s(t)}}function r(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,a)}r((l=l.apply(e,n||[])).next())}));var e,n,i,l},t.prototype.getAgencyHash=function(){return $("#agency_hash").val()},t}(),e=function(){this.slides=[],this.role="other",this.interval=5e3},n=function(){this.enabled=!0,this.titleEnabled=!1,this.title="",this.textEnabled=!1,this.text="",this.buttonEnabled=!1,this.buttonLabel="",this.buttonUrl="",this.listEnabled=!1,this.listStyle="checkmark",this.listItems=[],this.position="last",this.layout="top-left",this.theme="light",this.townsignVisible=!1};function i(t){var e=t.querySelector(".sb-slideshow-widget__slide__bgImage"),i=t.querySelector(".sb-slideshow-widget__slide__title"),l=t.querySelector(".sb-slideshow-widget__slide__text"),s=t.querySelector(".sb-slideshow-widget__slide__list"),o=t.querySelector(".sb-slideshow-widget__slide__button"),a=new n;if(a.enabled="false"!==t.dataset.enabled,a.layout=t.dataset.layout,a.theme=t.dataset.theme,a.townsignVisible="true"===t.dataset.townsignVisible,a.bgColor=t.dataset.bgColor,a.contentBgColor=t.dataset.contentBgColor,null!=e&&(a.bgImageSrc=e.getAttribute("src"),a.bgImageAlt=e.getAttribute("alt")),a.titleEnabled=null!=i,a.titleEnabled&&(a.title=i.textContent),a.textEnabled=null!=l,a.textEnabled&&(a.text=l.textContent),a.listEnabled=null!=s,a.listEnabled){a.listStyle=s.dataset.listStyle;for(var r=s.querySelectorAll("li"),c=0;c<r.length;c++){var u=r.item(c);a.listItems.push({text:u.textContent})}}return a.buttonEnabled=null!=o,a.buttonEnabled&&(a.buttonLabel=o.textContent,a.buttonUrl=o.getAttribute("href")),a}var l=function(t,e,n){if(n||2===arguments.length)for(var i,l=0,s=e.length;l<s;l++)!i&&l in e||(i||(i=Array.prototype.slice.call(e,0,l)),i[l]=e[l]);return t.concat(i||Array.prototype.slice.call(e))},s=function(){function t(t,e){this.edbicService=t,this.slideshowHtmlBuilder=e}return t.prototype.init=function(){var t=this;if($("div.sb-slideshow-widget").length>0){$("div.sb-slideshow-widget").addClass("website").addClass("loading");var n=Promise.resolve(void 0).then((function(t){return[]}));$('.sb-slideshow-widget__config[data-role="header"]').length>0&&(n=this.edbicService.get("getSlideshowData").then((function(t){var e;return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:[]})).catch((function(t){return[]}))),n.then((function(n){$("div.sb-slideshow-widget").each((function(s,o){var a,r,c="sb-slideshow-widget--id-"+s,u=[],d=function(t){var n,l,s=new e,o=t.querySelector(".sb-slideshow-widget__config");null!=o&&(s.role=("other",l=["header","other"],null!=(n=o.dataset.role)&&n.trim().length>0&&(null==l||l.includes(n))?n:"other"),s.interval=Number.isNaN(Number.parseInt(o.dataset.interval))?void 0:Number.parseInt(o.dataset.interval),s.height=Number.isNaN(Number.parseInt(o.dataset.height))?void 0:Number.parseInt(o.dataset.height));for(var a=t.querySelectorAll(".sb-slideshow-widget__slide"),r=0;r<a.length;r++){var c=i(a.item(r));s.slides.push(c)}return s}(o);d.slides.forEach((function(t,e){u.push({slide:t,position:e+1})}));var h=null!==(a=d.height)&&void 0!==a?a:470;if("header"===d.role){h=470;var g=n.reduce((function(t,e){var n=JSON.parse(e.data).slides.map((function(t){return{slide:t,position:t.position}}));return l(l([],t,!0),n,!0)}),[]);u=g.concat(u)}if(0!==(u=u.filter((function(t){return t.slide.enabled}))).length){var b=u.length+1;u.forEach((function(t){"first"===t.position?t.position=1:"last"===t.position||isNaN(Number(t.position))?t.position=b:t.position=Number(t.position)})),u.sort((function(t,e){return t.position-e.position}));var f=u.map((function(e,n){return t.slideshowHtmlBuilder.buildSlideHtml(e.slide,h,0===n)})).join(""),v=t.slideshowHtmlBuilder.buildCarouselHtml(c,f,u.length>1);$(o).html(v),$(o).removeClass("loading"),$(o).find("#".concat(c)).carousel({ride:"carousel",interval:null!==(r=d.interval)&&void 0!==r?r:5e3})}else $(o).html("")}))}))}},t}();function o(t,e){$.ajax({url:t,dataType:"script",success:e,async:!0})}function a(t){$("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet",href:t})}var r=function(){function t(){}return t.prototype.init=function(){$("div.sb-gallery-widget").length>0&&(a("css/tobii.min.css"),a("css/justified-gallery.css"),o("js/tobii.min.js",(function(){o("js/jquery.justifiedGallery.min.js",(function(){$("div.sb-gallery-widget").each((function(t,e){var n,i,l="sb-gallery-widget--id-"+t;$(e).children("a").addClass(l).each((function(t,e){var n=$(e).find("img").attr("src");$(e).attr("href",n)})),$(e).justifiedGallery({rowHeight:null!==(n=$(e).data("rowHeight"))&&void 0!==n?n:160,maxRowHeight:null!==(i=$(e).data("maxRowHeight"))&&void 0!==i?i:250,rel:l,lastRow:"nojustify",margins:3}).on("jg.complete",(function(){new Tobii({captions:!0,selector:".".concat(l),captionAttribute:"alt",counter:!1})}))}))}))})))},t}(),c=function(){var t=this;this.buildCarouselHtml=function(t,e,n){var i='<a class="carousel-control-prev" href="#'.concat(t,'" role="button" data-slide="prev">\n            <img src="images/hero_arrow.svg" alt="">\n            <span class="sr-only">Vorherige</span>\n        </a>\n        <a class="carousel-control-next " href="#').concat(t,'" role="button" data-slide="next">\n            <img src="images/hero_arrow.svg" alt="">\n            <span class="sr-only">NÃ¤chste</span>\n        </a>');return'\n    <div id="'.concat(t,'" class="carousel slide">\n        <div class="carousel-inner">\n            ').concat(e,"\n        </div>\n        ").concat(n?i:"","\n    </div>")},this.buildTitleHtml=function(t){return t.titleEnabled?'<h2 class="sb-slideshow-widget__slide__title">'.concat(t.title,"</h2>"):""},this.buildTextHtml=function(t){return t.textEnabled?'<p class="sb-slideshow-widget__slide__text">'.concat(t.text,"</p>"):""},this.buildListHtml=function(t){if(!t.listEnabled||0===t.listItems.length)return"";var e=t.listStyle;"checkmark"===t.listStyle&&(e="none");var n=t.listItems.map((function(e){return"checkmark"===t.listStyle?'<li><img class="checkmark_img" src="images/icons/check_icon.svg" alt=""><span class="checkmark_text">'.concat(e.text,"</span></li>"):"<li>".concat(e.text,"</li>")})).join("\n");return'<div class="sb-slideshow-widget__slide__list">\n    <ul style="list-style: '.concat(e,'">\n        ').concat(n,"\n    </ul>\n</div>")},this.buildButtonHtml=function(t){return t.buttonEnabled?'<a href="'.concat(t.buttonUrl,'" class="btn btn-primary" role="button">').concat(t.buttonLabel,"</a>"):""},this.buildSlideHtml=function(e,n,i){var l=null!=e.bgImageSrc&&e.bgImageSrc.length>0?'<img class="slide_bg img-fluid" src="'.concat(e.bgImageSrc,'" alt="').concat(e.bgImageAlt,'">'):'<div class="slide_bg"></div>',s=null!=e.theme?"sb-slideshow-widget-theme--"+e.theme:"",o=void 0;if(e.townsignVisible){var a=$(".sb-townsign-widget")[0];if(null!=a){var r=a.cloneNode(!0);r.classList.remove("hidden"),o=r.outerHTML}}var c="";u(e.contentBgColor)&&(c+="background-color: ".concat(e.contentBgColor,";"));var d=function(n,i,l){var s=null!=o?"col-sm-7 col-lg-8 ":"col",a=null!=o?'<div class="col-sm-5 col-lg-4 align-self-center">\n                '.concat(o,"\n            </div>"):"";return'<div class="'.concat(s," ").concat(i," ").concat(l,'">\n                <div class="sb-slide-content ').concat(l,'" style="').concat(n,'">\n                    ').concat(t.buildTitleHtml(e),"\n                    ").concat(t.buildTextHtml(e),"\n                    ").concat(t.buildListHtml(e),"\n                    ").concat(t.buildButtonHtml(e),"\n                </div>\n            </div>\n            ").concat(a,"\n            ")},h=d(c,"align-self-center","text-right");switch(e.layout){case"top-left":h=d(c,"align-self-start","text-left");break;case"top-center":h=d(c,"align-self-start","text-center");break;case"top-right":h=d(c,"align-self-start","text-right");break;case"middle-left":h=d(c,"align-self-center","text-left");break;case"middle-center":h=d(c,"align-self-center","text-center");break;case"middle-right":h=d(c,"align-self-center","text-right");break;case"bottom-left":h=d(c,"align-self-end","text-left");break;case"bottom-center":h=d(c,"align-self-end","text-center");break;case"bottom-right":h=d(c,"align-self-end","text-right");break;case"person_pointing":h=function(n){return'<div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 align-self-center">\n                 <div class="sb-slide-content align-self-center" style="'.concat(n,'">\n                    ').concat(t.buildTitleHtml(e),"\n                    ").concat(t.buildTextHtml(e),"\n                    ").concat(t.buildListHtml(e),"\n                    ").concat(t.buildButtonHtml(e),'\n                </div>\n            </div>\n            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 align-self-end hidden-xs">\n                <figure class="pic3">\n                    <img class="check_img img-fluid" src="images/illustration_002.png" alt="Person zeigt mit dem Finger.">\n                </figure>\n            </div>\n            <div class="col-xl-4 col-lg-4 col-md-5 col-sm-6 align-self-center">\n                ').concat(null!=o?o:"","\n            </div>\n        ")}(c)}var g="";u(e.bgColor)&&(g+="background-color: ".concat(e.bgColor,";"));var b="min-height: ".concat(n,"px;");return'\n<div class="carousel-item'.concat(i?" active":""," ").concat(s,'" style="').concat(g,'">\n    ').concat(l,'\n    <div class="slide_cap">\n        <div class="container">\n            <div class="row justify-content-end" style="').concat(b,'">\n                ').concat(h,"\n            </div>\n        </div>\n    </div>\n</div>")}};function u(t){return null!=t&&t.trim().length>0}!function(){if(!function(){try{return window.self!==window.top}catch(t){return!0}}()){var e=new t,n=new r,i=new c,l=new s(e,i);$((function(){n.init(),l.init()}))}}()})()})();